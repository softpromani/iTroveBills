import{T as B,p as n,o as i,c as d,a,u as r,w as u,F as h,Z as M,b as e,x as P,t as o,i as m,d as f,e as S,h as g,k as y,f as w,y as E}from"./app-6a1d3a1e.js";import{_ as q}from"./AuthenticatedLayout-a24857a9.js";/* empty css                                              */import{S as k}from"./sweetalert2.esm.all-263d9c0b.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./FlashMessages-145df7f9.js";const H={class:"bg-white rounded-lg shadow"},I={class:"rounded-lg table-responsive"},O={class:"table",style:{"min-height":"200px"}},Z={class:"dropdown"},j={class:"dropdown-menu"},A={key:0,class:"modal fade show",style:{display:"block"},"aria-modal":"true",role:"dialog"},D={class:"modal-dialog",role:"document"},F={class:"modal-content"},K={class:"modal-body"},U={class:"form-group mb-3"},G={class:"form-group mb-3"},L={key:1,class:"modal-backdrop fade show"},W="gst",Y={__name:"invoice_list",props:{invoices:Object},setup(x){const _=x;B({});const v=n(!1),c=n(""),p=n(""),C=n(null),V=n(_.invoices),b=()=>{v.value=!1,c.value="",p.value=""},N=()=>{E.post("/api/update-invoice-package",{no_packets:c.value,vehicle_no:p.value,invoice_id:C.value}).then(s=>{console.log("Package updated successfully:",s.data),k.fire({title:"Success!",text:"Package updated successfully.",icon:"success",confirmButtonText:"OK"}).then(()=>{setTimeout(()=>{location.reload()},1e4)}),b(),location.reload()}).catch(s=>{console.error("Error updating package:",s),k.fire({title:"Error!",text:"There was an error updating the package.",icon:"error",confirmButtonText:"OK"})})};return(s,t)=>(i(),d(h,null,[a(r(M),{title:"Customer view"}),a(q,null,{default:u(()=>[t[14]||(t[14]=e("div",{class:"inline-flex w-full mb-4 overflow-hidden bg-white rounded-lg shadow-md"},[e("div",{class:"flex items-center justify-center w-12 bg-pink-800"},[e("svg",{class:"w-6 h-6 text-white fill-current",viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M20 3.33331C10.8 3.33331 3.33337 10.8 3.33337 20C3.33337 29.2 10.8 36.6666 20 36.6666C29.2 36.6666 36.6667 29.2 36.6667 20C36.6667 10.8 29.2 3.33331 20 3.33331ZM21.6667 28.3333H18.3334V25H21.6667V28.3333ZM21.6667 21.6666H18.3334V11.6666H21.6667V21.6666Z"})])]),e("div",{class:"px-4 py-2 -mx-3"},[e("div",{class:"mx-3"},[e("span",{class:"font-semibold text-blue-500"},"Invoice List")])])],-1)),e("div",H,[e("div",I,[e("table",O,[t[7]||(t[7]=e("thead",{class:"table-dark"},[e("tr",null,[e("th",{class:"col-1"},"Sr.no."),e("th",{class:"col-1"},"Invoice Number"),e("th",{class:"col-1"},"Invoice Date"),e("th",{class:"col-1"},"Total Amount"),e("th",{class:"col-1"},"Vehicle No"),e("th",{class:"col-1"},"No. Packets"),e("th",{class:"col-1"},"Customer"),e("th",{class:"col-1"},"Company"),e("th",{class:"col-1"},"Action")])],-1)),e("tbody",null,[(i(!0),d(h,null,P(V.value,(l,T)=>(i(),d("tr",{key:l.id},[e("td",null,o(T+1),1),e("td",null,o(l.invoice_number??""),1),e("td",null,o(l.invoice_date??""),1),e("td",null,o(l.total_ammount??""),1),e("td",null,o(l.vehicle_no??""),1),e("td",null,o(l.no_packets??"NO PACK"),1),e("td",null,o(l.customer.company_name??""),1),e("td",null,o(l.company.company_name??""),1),e("td",null,[e("div",Z,[t[6]||(t[6]=e("span",{class:"p-2",style:{"font-size":"15px",cursor:"pointer"},"data-bs-toggle":"dropdown","aria-expanded":"false"},[e("i",{class:"fa fa-ellipsis-v"})],-1)),e("ul",j,[e("li",null,[a(r(m),{class:"dropdown-item",href:s.route("gst.customer.bill.edit"),method:"get",data:{invoice_id:l.id}},{default:u(()=>[...t[2]||(t[2]=[e("i",{class:"fa-solid fa-pen-to-square",style:{color:"blueviolet"}},null,-1),f(" Edit",-1)])]),_:2},1032,["href","data"])]),e("li",null,[a(r(m),{href:s.route("gst.view.invoice"),method:"get",data:{invoice_id:l.id},class:"dropdown-item"},{default:u(()=>[...t[3]||(t[3]=[e("i",{class:"fa fa-print","aria-hidden":"true",style:{color:"rgb(241, 12, 12)"}},null,-1),f(" Print",-1)])]),_:2},1032,["href","data"])]),e("li",null,[a(r(m),{class:"dropdown-item",href:s.route("gst.bill.sendmail"),method:"post",data:{invoice_id:l.id}},{default:u(()=>[...t[4]||(t[4]=[e("i",{class:"fa fa-envelope-square","aria-hidden":"true",style:{color:"rgb(245, 180, 0)"}},null,-1),f(" Generate E-Way Bill",-1)])]),_:2},1032,["href","data"])]),e("li",null,[a(r(m),{class:"dropdown-item",href:s.route("create.eway.bill"),method:"get",data:{invoice_id:l.id,type:W}},{default:u(()=>[...t[5]||(t[5]=[e("i",{class:"fa fa-truck text-primary","aria-hidden":"true"},null,-1),f(" Generate E-Way Bill",-1)])]),_:2},1032,["href","data"])])])])])]))),128))])])]),t[8]||(t[8]=e("div",{class:"flex flex-col items-center px-1 py-1 bg-white border-t xs:flex-row xs:justify-between"},null,-1))]),v.value?(i(),d("div",A,[e("div",D,[e("div",F,[e("div",{class:"modal-header"},[t[10]||(t[10]=e("h5",{class:"modal-title"},"Update Package",-1)),e("button",{type:"button",class:"close",onClick:b},[...t[9]||(t[9]=[e("span",null,"Ã—",-1)])])]),e("div",K,[e("form",{onSubmit:S(N,["prevent"])},[e("div",U,[t[11]||(t[11]=e("label",{for:"no_packets"},"No. of Package",-1)),g(e("input",{type:"number",class:"form-control",id:"no_packets","onUpdate:modelValue":t[0]||(t[0]=l=>c.value=l),required:""},null,512),[[y,c.value]])]),e("div",G,[t[12]||(t[12]=e("label",{for:"vehicle_no"},"Vehicle Number",-1)),g(e("input",{type:"text",class:"form-control",id:"vehicle_no","onUpdate:modelValue":t[1]||(t[1]=l=>p.value=l),required:""},null,512),[[y,p.value]])]),e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary",onClick:b},"Close"),t[13]||(t[13]=e("button",{type:"submit",class:"btn btn-primary"},"Save changes",-1))])],32)])])])])):w("",!0),v.value?(i(),d("div",L)):w("",!0)]),_:1})],64))}};export{Y as default};
