import{T as B,p,s as D,o as s,c as i,b as e,a as E,w as W,q as _,F as v,x as C,t as u,f as q}from"./app-677705b4.js";const O={key:0},R={class:"-mt-4 rounded-lg shadow table-responsive"},U={class:"table table-bordered"},j=["onInput"],A=["onClick"],H={class:"font-bold"},L={class:"font-bold"},P={__name:"Editbilldata",props:{invoiceitem:Object},setup(x){const y=B({}),d=x,o=p([]);D(()=>{d.invoiceitem&&(o.value=d.invoiceitem.map(l=>[l.desc_product,l.hsn_code,l.quantity,l.unit,l.weight,l.rate]))});const b=p([]),c=p(!0),k=(l,t,n)=>{if([2,4,5].includes(t)){const a=n.target.textContent;isNaN(a)?n.target.textContent=0:o.value[l][t]=parseFloat(a)}else o.value[l][t]=n.target.textContent},T=()=>{o.value.push(["","","","","",""])},F=l=>{o.value.splice(l,1)},N=l=>l+1,g=l=>{const t=parseFloat(o.value[l][2])||0,n=parseFloat(o.value[l][5])||0;return(t*n).toFixed(2)},f=()=>{let l=0;for(let t=0;t<o.value.length;t++)l+=parseFloat(g(t));return l.toFixed(2)},m=()=>{let l=0;for(let t=0;t<o.value.length;t++){const n=parseFloat(o.value[t][4])||0;l+=n}return l.toFixed(2)},V=()=>{const l=document.getElementById("invoice_no").value,t=document.getElementById("vehical_no").value,n=0;b.value[n]={invoice:l,vehical_no:t,totalWeight:m(),totalTaxableValue:f()};const a=o.value,r=b.value;y.post(route("customer.bill.update",{invoicedata:a,invoice_id:d.invoiceitem[0].invoice_id,invoicedetails:r}),{preserveScroll:!0})},w=()=>{c.value=!c.value};return(l,t)=>(s(),i(v,null,[e("div",{class:"mt-5 bg-purple-700 rounded-md position-relative"},[t[1]||(t[1]=e("h2",{class:"font-medium text-center text-white font-weight-bolder"}," INVOICE ",-1)),e("span",{class:"text-white cursor-pointer top-2 right-2 position-absolute",onClick:w},[...t[0]||(t[0]=[e("i",{class:"fa-solid fa-bullseye"},null,-1)])])]),E(_,{name:"slide-fade"},{default:W(()=>[c.value?(s(),i("div",O,[e("div",R,[e("table",U,[t[11]||(t[11]=e("thead",{class:"table-dark"},[e("tr",null,[e("th",null,"S.NO."),e("th",null,"Description of Product"),e("th",null,"HSN Code"),e("th",null,"Quantity"),e("th",null,"Unit"),e("th",null,"Weight"),e("th",null,"Rate"),e("th",null,"Taxable Value"),e("th",null,"Action")])],-1)),e("tbody",null,[(s(!0),i(v,null,C(o.value,(n,a)=>(s(),i("tr",{key:a},[e("td",null,u(N(a)),1),(s(!0),i(v,null,C(n,(r,h)=>(s(),i("td",{key:h,onInput:S=>k(a,h,S),contenteditable:""},u(r),41,j))),128)),e("td",null,u(g(a)),1),e("td",null,[a===o.value.length-1?(s(),i("span",{key:0,class:"cursor-pointer badge rounded-pill text-bg-primary",onClick:T},[...t[2]||(t[2]=[e("i",{class:"fa fa-plus","aria-hidden":"true"},null,-1)])])):(s(),i("span",{key:1,class:"cursor-pointer badge rounded-pill text-bg-danger",onClick:r=>F(a)},[...t[3]||(t[3]=[e("i",{class:"fa fa-minus","aria-hidden":"true"},null,-1)])],8,A))])]))),128)),e("tr",null,[t[4]||(t[4]=e("td",null,null,-1)),t[5]||(t[5]=e("td",null,null,-1)),t[6]||(t[6]=e("td",null,null,-1)),t[7]||(t[7]=e("td",null,null,-1)),t[8]||(t[8]=e("td",{class:"font-bold"},"Total Weight:",-1)),e("td",H,u(m()),1),t[9]||(t[9]=e("td",{class:"font-bold"},"Total:",-1)),e("td",L,u(f()),1),t[10]||(t[10]=e("td",null,null,-1))])])])]),e("button",{class:"text-white btn btn-info text-bold",onClick:V}," Submit ")])):q("",!0)]),_:1})],64))}};export{P as default};
