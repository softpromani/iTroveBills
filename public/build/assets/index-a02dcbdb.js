import{g as r,T as g,z as d,o as v,c as h,a,u as i,w as _,F as w,Z as V,b as m,d as C,e as N,N as S}from"./app-5b33cb9d.js";import{_ as x}from"./AuthenticatedLayout-ae0074d3.js";import E from"./Editable-14f0d311.js";import $ from"./CustomerDetail-860ddd39.js";import{_ as j}from"./PrimaryButton-f8b14db4.js";import{s as u}from"./dropdown.esm-5412ad99.js";import{_ as p}from"./InputError-44202dc9.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./FlashMessages-e07e93db.js";import"./TextInput-96c10768.js";const B={class:"container p-4 card"},k={class:"d-flex justify-content-evenly row"},A={class:"row"},F={class:"col-md-5"},L={class:"col-md-5"},O={class:"col-md-2"},I={__name:"index",props:{customer_list:Array,company_list:Array,customer_data:Object,inv_no:String,company:Object,customer_id:Number,company_id:Number},setup(n){const o=n,y=r(()=>o.inv_no?o.inv_no:""),f=r(()=>o.company?o.company.company_name:""),b=r(()=>o.customer_data?o.customer_data.customer_detail:null),e=g({company_id:o.company_id?o.company_list.find(s=>s.id===o.company_id):null,customer_id:o.customer_id?o.customer_list.find(s=>s.id===o.customer_id):null});function l(){if(e.clearErrors(),!e.company_id){e.setError("company_id","Please select a company to proceed.");return}S.get(route("gst.customer.bill"),{customer_id:e.customer_id?e.customer_id.id:null,company_id:e.company_id?e.company_id.id:null},{preserveState:!0,preserveScroll:!0,only:["customer_data","inv_no","company","series","customer_id","company_id"]})}return d(()=>[e.customer_id,e.company_id],([s,t])=>{t&&l()}),d(()=>o.company_id,s=>{s&&(!e.company_id||e.company_id.id!==s)&&(e.company_id=o.company_list.find(t=>t.id===s))}),d(()=>o.customer_id,s=>{s&&(!e.customer_id||e.customer_id.id!==s)&&(e.customer_id=o.customer_list.find(t=>t.id===s))}),(s,t)=>(v(),h(w,null,[a(i(V),{title:"Company"}),a(x,null,{default:_(()=>[m("form",{onSubmit:N(l,["prevent"]),method:"get"},[m("div",B,[m("div",k,[m("div",A,[m("div",F,[a(i(u),{modelValue:i(e).company_id,"onUpdate:modelValue":t[0]||(t[0]=c=>i(e).company_id=c),options:n.company_list,filter:"",optionLabel:"name",placeholder:"Select a Company",class:"mb-1 h-12 w-100",showClear:""},null,8,["modelValue","options"]),a(p,{message:i(e).errors.company_id,class:"mt-1"},null,8,["message"])]),m("div",L,[a(i(u),{modelValue:i(e).customer_id,"onUpdate:modelValue":t[1]||(t[1]=c=>i(e).customer_id=c),options:n.customer_list,filter:"",optionLabel:"name",placeholder:"Select a Customer",class:"mb-1 h-12 w-100",showClear:""},null,8,["modelValue","options"]),a(p,{message:i(e).errors.customer_id,class:"mt-1"},null,8,["message"])]),m("div",O,[a(j,{disabled:i(e).processing,class:"h-12 w-100"},{default:_(()=>[...t[2]||(t[2]=[C(" Search ",-1)])]),_:1},8,["disabled"])])])])])],32),a($,{billing_user_detail:b.value,series:y.value,company:n.company_id,customer:n.customer_id,company_name:f.value},null,8,["billing_user_detail","series","company","customer","company_name"]),m("div",null,[a(E)])]),_:1})],64))}};export{I as default};
