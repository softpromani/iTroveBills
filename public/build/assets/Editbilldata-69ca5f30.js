import{T as S,m as h,q as B,o as s,c as i,b as t,a as D,w as E,p as W,F as _,s as m,t as c,f as q}from"./app-7fb3c36c.js";const O=t("h2",{class:"font-medium text-center text-white font-weight-bolder"}," INVOICE ",-1),R=t("i",{class:"fa-solid fa-bullseye"},null,-1),U=[R],j={key:0},A={class:"-mt-4 rounded-lg shadow table-responsive"},H={class:"table table-bordered"},L=t("thead",{class:"table-dark"},[t("tr",null,[t("th",null,"S.NO."),t("th",null,"Description of Product"),t("th",null,"HSN Code"),t("th",null,"Quantity"),t("th",null,"Unit"),t("th",null,"Weight"),t("th",null,"Rate"),t("th",null,"Taxable Value"),t("th",null,"Action")])],-1),M=["onInput"],P=t("i",{class:"fa fa-plus","aria-hidden":"true"},null,-1),Q=[P],$=["onClick"],z=t("i",{class:"fa fa-minus","aria-hidden":"true"},null,-1),G=[z],J=t("td",null,null,-1),K=t("td",null,null,-1),X=t("td",null,null,-1),Y=t("td",null,null,-1),Z=t("td",{class:"font-bold"},"Total Weight:",-1),I={class:"font-bold"},tt=t("td",{class:"font-bold"},"Total:",-1),et={class:"font-bold"},lt=t("td",null,null,-1),at={__name:"Editbilldata",props:{invoiceitem:Object},setup(C){const y=S({}),d=C,o=h([]);B(()=>{d.invoiceitem&&(o.value=d.invoiceitem.map(e=>[e.desc_product,e.hsn_code,e.quantity,e.unit,e.weight,e.rate]))});const p=h([]),r=h(!0),k=(e,l,a)=>{if([2,4,5].includes(l)){const n=a.target.textContent;isNaN(n)?a.target.textContent=o.value[e][l]:o.value[e][l]=parseFloat(n)}else o.value[e][l]=a.target.textContent},x=()=>{o.value.push(["","","","","",""])},T=e=>{o.value.splice(e,1)},F=e=>e+1,v=e=>{const l=parseFloat(o.value[e][2])||0,a=parseFloat(o.value[e][5])||0;return(l*a).toFixed(2)},b=()=>{let e=0;for(let l=0;l<o.value.length;l++)e+=parseFloat(v(l));return e.toFixed(2)},g=()=>{let e=0;for(let l=0;l<o.value.length;l++){const a=parseFloat(o.value[l][4])||0;e+=a}return e.toFixed(2)},N=()=>{const e=document.getElementById("invoice_no").value,l=document.getElementById("vehical_no").value,a=0;p.value[a]={invoice:e,vehical_no:l,totalWeight:g(),totalTaxableValue:b()};const n=o.value,u=p.value;y.post(route("customer.bill.update",{invoicedata:n,invoice_id:d.invoiceitem[0].invoice_id,invoicedetails:u}),{preserveScroll:!0})},V=()=>{r.value=!r.value};return(e,l)=>(s(),i(_,null,[t("div",{class:"mt-5 bg-purple-700 rounded-md position-relative"},[O,t("span",{class:"text-white cursor-pointer top-2 right-2 position-absolute",onClick:V},U)]),D(W,{name:"slide-fade"},{default:E(()=>[r.value?(s(),i("div",j,[t("div",A,[t("table",H,[L,t("tbody",null,[(s(!0),i(_,null,m(o.value,(a,n)=>(s(),i("tr",{key:n},[t("td",null,c(F(n)),1),(s(!0),i(_,null,m(a,(u,f)=>(s(),i("td",{key:f,onInput:w=>k(n,f,w),contenteditable:""},c(u),41,M))),128)),t("td",null,c(v(n)),1),t("td",null,[n===o.value.length-1?(s(),i("span",{key:0,class:"cursor-pointer badge rounded-pill text-bg-primary",onClick:x},Q)):(s(),i("span",{key:1,class:"cursor-pointer badge rounded-pill text-bg-danger",onClick:u=>T(n)},G,8,$))])]))),128)),t("tr",null,[J,K,X,Y,Z,t("td",I,c(g()),1),tt,t("td",et,c(b()),1),lt])])])]),t("button",{class:"text-white btn btn-info text-bold",onClick:N}," Submit ")])):q("",!0)]),_:1})],64))}};export{at as default};
