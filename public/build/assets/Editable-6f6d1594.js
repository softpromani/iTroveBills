import{T as w,p as m,o as s,c as u,b as e,a as B,w as E,q as S,F as v,x as h,t as i,f as D}from"./app-677705b4.js";const W={key:0},R={class:"-mt-4 rounded-lg shadow table-responsive"},_={class:"table table-bordered"},q=["onInput"],O=["onClick"],U={class:"font-bold"},A={class:"font-bold"},L={__name:"Editable",setup(H){const C=w({}),o=m([["","","","","",""]]),b=m([]),c=m(!0),x=(l,t,n)=>{if([2,4,5].includes(t)){const a=n.target.textContent;isNaN(a)?n.target.textContent=0:o.value[l][t]=parseFloat(a)}else o.value[l][t]=n.target.textContent},k=l=>{const t=["","","","","",""];o.value.splice(l+1,0,t)},F=l=>{o.value.splice(l,1)},T=l=>l+1,g=l=>{const t=parseFloat(o.value[l][2])||0,n=parseFloat(o.value[l][5])||0;return(t*n).toFixed(2)},f=()=>{let l=0;for(let t=0;t<o.value.length;t++)l+=parseFloat(g(t));return l.toFixed(2)},y=()=>{let l=0;for(let t=0;t<o.value.length;t++){const n=parseFloat(o.value[t][4])||0;l+=n}return l.toFixed(2)},N=()=>{const l=document.getElementById("invoice_no").value,t=document.getElementById("customer").value,n=document.getElementById("company").value,a=document.getElementById("vehical_no").value,r=0;b.value[r]={invoice:l,customer:t,company:n,vehical_no:a,totalWeight:y(),totalTaxableValue:f()};const d=o.value,p=b.value;C.post(route("performa.customer.store.bill",{invoicedata:d,invoicedetails:p}),{preserveScroll:!0})},V=()=>{c.value=!c.value};return(l,t)=>(s(),u(v,null,[e("div",{class:"mt-5 bg-purple-700 rounded-md position-relative"},[t[1]||(t[1]=e("h2",{class:"font-medium text-center text-white font-weight-bolder"}," INVOICE ",-1)),e("span",{class:"text-white cursor-pointer top-2 right-2 position-absolute",onClick:V},[...t[0]||(t[0]=[e("i",{class:"fa-solid fa-bullseye"},null,-1)])])]),B(S,{name:"slide-fade"},{default:E(()=>[c.value?(s(),u("div",W,[e("div",R,[e("table",_,[t[11]||(t[11]=e("thead",{class:"table-dark"},[e("tr",null,[e("th",null,"S.NO."),e("th",null,"Description of Product"),e("th",null,"HSN Code"),e("th",null,"Quantity"),e("th",null,"Unit"),e("th",null,"Weight"),e("th",null,"Rate"),e("th",null,"Taxable Value"),e("th",null,"Action")])],-1)),e("tbody",null,[(s(!0),u(v,null,h(o.value,(n,a)=>(s(),u("tr",{key:a},[e("td",null,i(T(a)),1),(s(!0),u(v,null,h(n,(r,d)=>(s(),u("td",{key:d,onInput:p=>x(a,d,p),contenteditable:""},i(r),41,q))),128)),e("td",null,i(g(a)),1),e("td",null,[a===o.value.length-1?(s(),u("span",{key:0,class:"cursor-pointer badge rounded-pill text-bg-primary",onClick:k},[...t[2]||(t[2]=[e("i",{class:"fa fa-plus","aria-hidden":"true"},null,-1)])])):(s(),u("span",{key:1,class:"cursor-pointer badge rounded-pill text-bg-danger",onClick:r=>F(a)},[...t[3]||(t[3]=[e("i",{class:"fa fa-minus","aria-hidden":"true"},null,-1)])],8,O))])]))),128)),e("tr",null,[t[4]||(t[4]=e("td",null,null,-1)),t[5]||(t[5]=e("td",null,null,-1)),t[6]||(t[6]=e("td",null,null,-1)),t[7]||(t[7]=e("td",null,null,-1)),t[8]||(t[8]=e("td",{class:"font-bold"},"Total Weight:",-1)),e("td",U,i(y()),1),t[9]||(t[9]=e("td",{class:"font-bold"},"Total:",-1)),e("td",A,i(f()),1),t[10]||(t[10]=e("td",null,null,-1))])])])]),e("button",{class:"text-white btn btn-info text-bold",onClick:N}," Submit ")])):D("",!0)]),_:1})],64))}};export{L as default};
